# Changelog


## [2.6.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/v2.5.0...v2.6.0) (2024-06-05)


### Features

* Replace Bunyan logger with Pino ([#129](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/129)) ([09de22a](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/09de22a38813813ae84364db9228ca017eca9fd4))

## [2.5.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/v2.4.1...v2.5.0) (2024-05-24)


### Features

* Add ability to read full config from env var ([#120](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/120)) ([627cc1f](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/627cc1f163ea05faaad93b460f9fba35fcfac20f))


### Bug Fixes

* disable apt EIPP logging ([fc5f096](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/fc5f0961403cd6b50ea5be1e1023873fcf4439d7))
* remove dependancy on mv and transient dependency on inflight ([94f9a99](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/94f9a9935349ab81e9373c87312e8dbef0ecb939))

## [2.4.1](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/v2.4.0...v2.4.1) (2024-05-22)


### Bug Fixes

* Add typescript js compilation checks, and fix resulting errors ([#118](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/118)) ([2087bd9](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/2087bd9745515f4be395a6ab1c9c1414f0125441))
* docker build fails due to husky ([298f659](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/298f659978cb8c299804642ee01b8de5c040f1d6))

## [2.4.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/v2.3.1...v2.4.0) (2024-05-21)


### Features

* Add prettier formatter ([5010a16](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/5010a168a6a345f0c49883ee905005bfbbdcf65d))


### Bug Fixes

* **deps:** Bump @google-cloud/logging-bunyan in /cloudrun-malware-scanner ([#100](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/100)) ([a4d018e](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/a4d018e0376df587d0ac232d661ea6a537f3befe))
* **deps:** Bump @google-cloud/storage in /cloudrun-malware-scanner ([#109](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/109)) ([a4d018e](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/a4d018e0376df587d0ac232d661ea6a537f3befe))
* **deps:** Bump express from 4.18.3 to 4.19.2 in /cloudrun-malware-scanner ([#96](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/96)) ([a4d018e](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/a4d018e0376df587d0ac232d661ea6a537f3befe))
* **deps:** Bump google-auth-library in /cloudrun-malware-scanner ([#110](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/110)) ([a4d018e](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/a4d018e0376df587d0ac232d661ea6a537f3befe))
* **deps:** Bump node from 21 to 22 in /cloudrun-malware-scanner ([#107](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/107)) ([a4d018e](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/a4d018e0376df587d0ac232d661ea6a537f3befe))
* Update Dockerfile to fix cloud sdk repository change ([#115](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/115)) ([a19dfe3](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/a19dfe34cfbdaec1525cb3e82f098b594501b373)), closes [#88](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/issues/88)
* Updates for eslint 9.3 ([9f99e65](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/commit/9f99e65a9cf3445b4cc22ddc0eb5c6a13647df5b))

## [2.3.1](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v2_3_0...release_v2_3_1) (2023-28-11)

### What's Changed

* Bump google-auth-library from 8.8.0 to 9.2.0 in /cloudrun-malware-scanner by @dependabot in https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/64
* Bump @google-cloud/common from 4.0.3 to 5.0.1 in /cloudrun-malware-scanner by @dependabot in https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/65
* Bump @google-cloud/storage from 6.11.0 to 7.6.0 in /cloudrun-malware-scanner by @dependabot in https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/66
* Bump @google-cloud/logging-bunyan from 4.2.2 to 5.0.1 in /cloudrun-malware-scanner by @dependabot in https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/67
* Update dependancies in https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/69
* Update Useragent string to correct format in https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/68


## [2.3.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v2_2_0...release_v2_3_0) (2023-11-27)

### What's Changed

* Add Dependabot and eslint workflows n https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/61
* Update package versions and remove cloud-run-proxy in https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/pull/60


## [2.2.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v2_1_0...release_v2_2_0) (2023-11-22)

### What's Changed

* Add support for using environmental variables in the config.json file.


## [2.1.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v2_0_0...release_v2_1_0) (2023-06-22)

### What's Changed

* Fix issues with pip3 packages and APT key for cloud SDK
* Resolve #46 where docker build failed, and #50 where pip3 installs failed


## [2.0.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v1_7_0...release_v2_0_0) (2022-12-05)

### âš  BREAKING CHANGES

* Adds support for mirror of ClamAV malware DB, prevents update ratelimiting and startup problems
* Resolve #35 where ClamAV update servers blacklist cloud run IPs. adds a local cache of ClamAV definition files which is updated on a schedule.


## [1.7.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v1_6_0...release_v1_7_0) (2022-06-07)

### What's Changed

* Fix issues with clamav not being able to be updated
* Bump moment from 2.29.1 to 2.29.2 in /cloudrun-malware-scanner (#31)
* Bump node-forge from 1.2.1 to 1.3.0 in /cloudrun-malware-scanner (#29)
* Bump minimist from 1.2.5 to 1.2.6 in /cloudrun-malware-scanner (#30)
* Update package versions - fixes security issue


## [1.6.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v1_5_0...release_v1_6_0) (2022-03-01)

### What's Changed

* Increase default clamav file size limits to 500MiB


## [1.5.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v1_4_0...release_v1_5_0) (2022-02-25)

### What's Changed

* Upgrade dependancies to fix node-forge vulnerability (#25)


## [1.4.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v1_3_0...release_v1_4_0) (2022-02-11)

### What's Changed

* Bump node-fetch from 2.6.5 to 3.1.1


## [1.3.0](https://github.com/GoogleCloudPlatform/docker-clamav-malware-scanner/compare/release_v1_2_0...release_v1_3_0) (2021-11-23)

### What's Changed

* Remove need for Project Viewer permissions

## [1.2.0] (2021-11-08)

* Add support for scanning multiple buckets, improve error handling to prevent infinite retries

## 2021-10-22

* Improve resiliency
* Use streaming reads (no temp disk required)
* improve logging
* handles files in subdirectories

## 2021-10-14

* Use Cloud Run and EventArc instead of Cloud Functions/App Engine

## 2020-10-05

* Fixes for ClamAV OOM

## 2019-09-01

* Initial version
